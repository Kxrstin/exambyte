<!DOCTYPE html>
<html lang="de">
    <head>
        <title>ExamByte | Test Erstellen</title>
        <link rel="icon" type="image/png"
              href="../../static/Images/Logo/ExamByteLogoOhneUnterschrift.png"
              th:href="@{/Images/Logo/ExamByteLogoOhneUnterschrift.png}">
        <link rel = "stylesheet" th:href="@{/css/bootstrap.min.css}"
              href="../../static/css/bootstrap.min.css">
        <link rel="stylesheet" href="../../static/css/ExambyteStylesheet.css"
              th:href="@{/css/ExambyteStylesheet.css}">
        <link rel="stylesheet" href="../../static/css/TestErstellenStyleSheet.css"
              th:href="@{/css/TestErstellenStyleSheet.css}">
        <meta charset="UTF-8">
    </head>
    <body>
        <h1>
            <img class="imgLogo"
                    th:src="@{/Images/Logo/ExamByteLogo.png}"
                 src="../../static/Images/Logo/ExamByteLogo.png"
                 alt="">
            ExamByte - Test Erstellen
        </h1>

        <input type="hidden" th:value="${id}">

        <!--TODO:-->
        <form th:action="@{/organisatoren/testErstellen/addMcFrage/{id}(id=${id})}" method="post">
            <button class="btn-dark" type="submit" id="mcFrageButton">+ Multiple-Choice Frage hinzufügen</button>
        </form>

        <!--TODO: -->
        <form th:action="@{/organisatoren/testErstellen/addFreitextFrage}" method="post">
            <button class="btn-dark" type="submit" id="freitextFrage"> + Freitext Frage hinzufügen</button>
        </form>

        <ul th:remove="all-but-first">
            <li th:each="testFrage: ${testForm.getTestFragen()}" class="list-group-item">
                <!--Dieser Abschnitt wird nur angezeigt, falls es sich um eine Mulitple-Choice Frage handelt -->

                <span th:if="${testFrage.istMcFrage()}">
                    <p class="fragenüberschrift">
                        Multiple-Choice Frage
                    </p>

                    <form method="post" th:action="@{/organisatoren/testErstellen/updateTitelMC}">

                    </form>

                    <form method="post" th:action="@{/organisatoren/testErstellen/updateFragestellungMC}">

                    </form>
                    <!--TODO: zugehörige ID zur URL hinzufügen-->
                    <form method="post" th:action="@{/organisatoren/testErstellen/updateTestfrage}">
                        <label for="titelMCID"> Titel: </label>
                        <input type="text" id="titelMCID" name="titel" th:value="${testFrage.titel}">
                        <label for="multipleChoiceFrageID">Multiple-Choice Fragestellung:</label>
                        <input type="text" id="multipleChoiceFrageID" name="fragestellung" th:value="${testFrage.fragestellung}">
                        <button class="btn-dark" type="submit" id="antwortHinzufügenMC">+ Antwort hinzufügen</button>
                        <label for="punktzahlMcFrageID"> Punktzahl: </label>
                        <input type="number" id="punktzahlMcFrageID" name="punkte" th:value="${testFrage.punkte}">
                        <label for="erklaerungMCFrageID"> Erklärung: </label>
                        <textarea id="erklaerungMCFrageID" name="erklaerung" th:value="${testFrage.erklaerung}"></textarea>
                        <button type="submit">Zwischenspeichern</button>
                    </form>

                </span>

                <!--Dieser Abschnitt wird nur angezeigt, falls es sich um eine Freitextfrage handelt -->
                <span th:unless="${testFrage.istMcFrage()}">
                    <p class="fragenüberschrift">
                        Freitext Frage:
                    </p>
                    <form method="post" th:action="@{/organisatoren/testErstellen/updateTitelFT}">
                        <label for="titelFreitextID"> Titel: </label>
                        <input type="text" id="titelFreitextID" name="titel" th:value="${testFrage.titel}">
                    </form>

                    <form method="post" th:action="@{/organisatoren/testErstellen/updateFragestellungFT}">
                        <label for="freitextFragestellungID"> Frage: </label>
                        <input type="text" id="freitextFragestellungID" name="fragestellung" th:value="${testFrage.fragestellung}">
                    </form>

                    <form method="post" th:action="@{/organisatoren/testErstellen/updatePunkteFT}">
                        <label for="punktzahlFreitextID"> Punktzahl: </label>
                        <input type="number" name="punkte" id="punktzahlFreitextID" th:value="${testFrage.punkte}">
                    </form>
                    <form>
                        <label for="loesungID"> Mögliche Lösung: </label>
                        <textarea id="loesungID" name="erklaerung" th:value="${testFrage.erklaerung}"></textarea>
                    </form>

                </span>
            </li>
            <!--Vorschau, wie es mit mehreren Testfragen klappen würde:-->
            <li class="list-group-item">
                <p class="fragenüberschrift">
                    Multiple-Choice Frage:
                </p>
                <form method="post" th:action="@{/organisatoren/testErstellen/updateTitelMC}">
                    <label for="titelMCID"> Titel: </label>
                    <input type="text"  name="titel">
                </form>

                <form method="post" th:action="@{/organisatoren/testErstellen/updateFragestellungMC}">
                    <label for="multipleChoiceFrageID">Multiple-Choice Fragestellung:</label>
                    <input type="text" name="multipleChoiceFrage">
                </form>

                <button class="btn-dark" type="submit" >+ Antwort hinzufügen</button>

                <form method="post" th:action="@{/organisatoren/testErstellen/updatePunkteMC}">
                    <label for="punktzahlMcFrageID"> Punktzahl: </label>
                    <input type="number" name="punktzahlMC" >
                </form>

                <form>
                    <label for="erklaerungMCFrageID"> Erklärung: </label>
                    <textarea name="erklaerungMCFrage"></textarea>
                </form>
            </li>
        </ul>

        <span th:if="${mcFrageButton}">
                <!-- Grobe Idee, muss noch getestet werden ob das geht -->
        </span>

        <span th:if="${freitextFrageButton}">

        </span>

    <form method="get" th:action="@{/organisatoren/landingPage}">
        <button type="submit">Test fertigstellen</button>
    </form>

    <form method="get" th:action="@{/organisatoren/landingPage}">
        <button type="submit">Zurück zur Startseite</button>
    </form>
    </body>
</html>